# Bluetooth111 - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Arduino —á–µ—Ä–µ–∑ Bluetooth

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å —Ç–∞–±–±–∞—Ä–æ–º –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Arduino/ESP32 –ø—Ä–æ–µ–∫—Ç–∞–º–∏ —á–µ—Ä–µ–∑ Bluetooth Low Energy (BLE).

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîç **–ü–æ–∏—Å–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ BLE —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- üì± **–ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞** - –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥ Arduino —á–µ—Ä–µ–∑ Bluetooth
- üéÆ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ—Ç–æ—Ä–æ–º** - –¥–≤–∞ –¥–∂–æ–π—Å—Ç–∏–∫–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∞—à–∏–Ω–∫–æ–π
- üå°Ô∏è **–î–∞—Ç—á–∏–∫–∏** - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –∏ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏
- üìö **–ü—Ä–æ–µ–∫—Ç—ã Arduino** - –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- üìû **–û –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏** - –∫–æ–Ω—Ç–∞–∫—Ç—ã –∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Android Studio Hedgehog (2023.1.1) –∏–ª–∏ –Ω–æ–≤–µ–µ
- Android SDK 24+ (Android 7.0), compileSdk 35
- JDK 11 –∏–ª–∏ 17
- –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ Android —Å Bluetooth LE –∏–ª–∏ —ç–º—É–ª—è—Ç–æ—Ä
- ESP32, Arduino —Å BLE –º–æ–¥—É–ª–µ–º –∏–ª–∏ HM-10/HM-11

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ß–µ—Ä–µ–∑ Android Studio

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Android Studio
2. –î–æ–∂–¥–∏—Ç–µ—Å—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ Gradle
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ Android —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —ç–º—É–ª—è—Ç–æ—Ä
4. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É Run (‚ñ∂Ô∏è) –∏–ª–∏ `Shift + F10`

### –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É

```bash
# –°–±–æ—Ä–∫–∞ APK
./gradlew assembleDebug

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
./gradlew installDebug

# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
adb shell am start -n com.example.bluetooth111/.MainActivity
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Bluetooth

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Bluetooth –≤–∫–ª—é—á–µ–Ω –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
2. –°–æ–ø—Ä—è–≥–∏—Ç–µ –≤–∞—à–µ Arduino —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å Android —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Bluetooth
3. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤ —Å–ø–∏—Å–∫–µ
4. –ù–∞–∂–º–∏—Ç–µ "–ü–æ–¥–∫–ª—é—á–∏—Ç—å"

## –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

### –û—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∫ Arduino/ESP32:
- `MOTOR:<speed>\n` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ—Ç–æ—Ä–æ–º (speed: -255 –¥–æ 255)
- `SERVO:<angle>\n` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥–æ–º (angle: 0 –¥–æ 180)
- –õ—é–±–æ–π —Ç–µ–∫—Å—Ç —Å –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (–∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è `\n`)

### –û—Ç Arduino/ESP32 –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é:
- `TEMP:<value>` - —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤ –≥—Ä–∞–¥—É—Å–∞—Ö –¶–µ–ª—å—Å–∏—è
- `HUMID:<value>` - –≤–ª–∞–∂–Ω–æ—Å—Ç—å –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ESP32

**–ü–æ–ª–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –≤ —Ñ–∞–π–ª–µ `ESP32_SETUP.md`**

–ö—Ä–∞—Ç–∫–∏–π –ø—Ä–∏–º–µ—Ä –¥–ª—è ESP32:

```cpp
#include <BLEDevice.h>
#include <BLEServer.h>

#define SERVICE_UUID "4fafc201-1fb5-459e-8fcc-c5c9c331914b"
#define CHARACTERISTIC_UUID "beb5483e-36e1-4688-b7f5-ea07361b26a8"

void setup() {
  BLEDevice::init("ESP32_Arduino");
  BLEServer *pServer = BLEDevice::createServer();
  // ... –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
}

void loop() {
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ MOTOR: –∏ SERVO:
}
```

**–°–º. ESP32_SETUP.md –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –∫–æ–¥–∞ —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –º–æ—Ç–æ—Ä–∞–º–∏ –∏ –¥–∞—Ç—á–∏–∫–∞–º–∏**

## –†–∞–∑—Ä–µ—à–µ–Ω–∏—è

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è:
- `BLUETOOTH_CONNECT` / `BLUETOOTH` - –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º
- `BLUETOOTH_SCAN` / `BLUETOOTH_ADMIN` - –¥–ª—è –ø–æ–∏—Å–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- `ACCESS_FINE_LOCATION` - —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è Bluetooth –Ω–∞ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏—è—Ö Android

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `SocialNetworksScreen.kt` –∏ –∑–∞–º–µ–Ω–∏—Ç–µ:
- `@your_telegram` - –≤–∞—à Telegram username
- `your_username` - –≤–∞—à GitHub username
- `your.email@example.com` - –≤–∞—à email
- `your_profile` - –≤–∞—à VK –ø—Ä–æ—Ñ–∏–ª—å

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
app/src/main/java/com/example/bluetooth111/
‚îú‚îÄ‚îÄ MainActivity.kt              # –ì–ª–∞–≤–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
‚îú‚îÄ‚îÄ bluetooth/
‚îÇ   ‚îî‚îÄ‚îÄ BluetoothManager.kt      # –ú–µ–Ω–µ–¥–∂–µ—Ä Bluetooth —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
‚îî‚îÄ‚îÄ ui/
    ‚îú‚îÄ‚îÄ MainScreen.kt            # –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —Å —Ç–∞–±–±–∞—Ä–æ–º
    ‚îî‚îÄ‚îÄ screens/
        ‚îú‚îÄ‚îÄ CommandLineScreen.kt  # –≠–∫—Ä–∞–Ω –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
        ‚îú‚îÄ‚îÄ JoystickScreen.kt    # –≠–∫—Ä–∞–Ω –¥–∂–æ–π—Å—Ç–∏–∫–∞
        ‚îî‚îÄ‚îÄ SocialNetworksScreen.kt # –≠–∫—Ä–∞–Ω —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π
```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –≤–∏–¥–∏—Ç Bluetooth —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å–æ–ø—Ä—è–∂–µ–Ω–æ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Android
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Arduino –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π UUID (00001101-0000-1000-8000-00805F9B34FB)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∫–æ—Ä–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö (–æ–±—ã—á–Ω–æ 9600 baud)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ –¥—Ä—É–≥–æ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

## –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–π.

